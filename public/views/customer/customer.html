<div ng-controller="FormXeditableCtrl">
    <div ng-controller="FormPluginsCtrl">
        <div class="widget-body" id="customers-gTools">
            <h2 class="col-lg-12 col-md-12 col-sm-12 no-margin no-padding-sides">
                <p class="float-left">
                    <a href=""
                       id="b-p-id-cunitd"
                       record-table="Customers"
                       data-pk="1"
                       data-options="editableOptions"
                       data-original-title="First Name Value"
                       record-field="first_name"
                       smart-xeditable
                       data-ng-model="customerData.customer.first_name"
                       record-id="{{customerData.customer.id}}"
                       data-type="text"
                       record-idContainer="customers"
                       data-placement="right"
                       class="editable editable-click"> {{customerData.customer.first_name ? customerData.customer.first_name : '...'}}
                    </a>
                </p>
                <p class="float-left p-l-md">
                    <a href=""
                       id="b-p-id-cunitE"
                       record-table="Customers"
                       data-pk="1"
                       data-options="editableOptions"
                       data-original-title="Last Name Value"
                       record-field="last_name"
                       smart-xeditable
                       data-ng-model="customerData.customer.last_name"
                       record-id="{{customerData.customer.id}}"
                       data-type="text"
                       record-idContainer="customers"
                       data-placement="right"
                       class="editable editable-click"> {{customerData.customer.last_name?customerData.customer.last_name:'...'}}
                    </a>
                </p>
                <p class="float-left p-l-md">
                    ({{ customerData.customer.id }})
                </p>
                <!--<div ng-if="customerData.customer.vip" class="float-left m-l-md vip-class" title="VIP : {{customerData.customer.vip}}"><i class="fa fa-star"></i></div>-->
                <div ng-if="customerData.customer.vip" class="float-left m-l-md vip-class" title="VIP : {{customerData.customer.vip}}"><label>{{customerData.customer.vip}}</label></div>

            </h2>



            <div class="customer-info-card">
                <div class="col-lg-12 col-md-12 no-padding-sides m-t-lg">
                    <p class="col-lg-4 col-md-4 no-padding-sides"><strong>Address:</strong></p>

                    <p class="col-lg-6 col-md-6 no-padding-sides address-bld-img-hover">{{customerData.customer.address.address ? customerData.customer.address.address : 'Not Set'}}</p>

                    <div class="no-display">
                        <img src="/img/buildings/{{bld.img_building ? bld.img_building : bld.buildings.img_building}}"
                             alt="{{customerData.customer.address.address}}"
                             title="{{customerData.customer.address.address}}">
                    </div>


                    <p class="col-lg-4 col-md-4 no-padding-sides"></p>
                    <p class="col-lg-2 col-md-2 no-padding-sides ">
                        <a href=""
                           id="b-p-id-cunit"
                           record-table="Address"
                           data-pk="1"
                           data-options="editableOptions"
                           data-original-title="Set Value"
                           record-field="unit"
                           smart-xeditable
                           data-ng-model="customerData.customer.address.unit"
                           record-id="{{customerData.customer.address.id}}"
                           data-type="text"
                           record-idContainer="customers"
                           data-placement="right"
                           class="editable editable-click"># {{customerData.customer.address.unit ? customerData.customer.address.unit : 'Not Set'}}
                        </a>
                    </p>

                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides">
                    <p class="col-lg-4 col-md-4 no-padding-sides"></p>
                    <p class="col-lg-6 col-md-6 no-padding-sides">
                        {{customerData.customer.address.city ? customerData.customer.address.city : 'Not Set'}},
                        {{customerData.customer.address.state ? customerData.customer.address.state : 'Not Set'}}
                        {{customerData.customer.address.zip ? customerData.customer.address.zip : 'Not Set'}}
                    </p>
                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides m-t-lg">
                    <p class="col-lg-4 col-md-4 no-padding-sides"><strong>Signed At:</strong></p>
                    <p class="col-lg-4 col-md-4 no-padding-sides" ng-init="resultDate = convertDate(customerData.customer.signedup_at)" ng-if="customerData.customer">
                        <b>{{resultDate | date : "MMM d, y" }}</b>
                    </p>
                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides m-t-lg">
                    <p class="col-lg-4 col-md-4 no-padding-sides"><strong>Username:</strong></p>
                    <p class="col-lg-4 col-md-4 no-padding-sides">
                        <a href=""
                           id="b-p-id-cemail"
                           record-table="Customers"
                           data-pk="1"
                           data-options="editableOptions"
                           data-original-title="Set Value"
                           record-field="email"
                           smart-xeditable
                           data-ng-model="customerData.customer.email"
                           record-id="{{customerData.customer.id}}"
                           data-type="text"
                           record-idContainer="customers"
                           data-placement="right"
                           class="editable editable-click">{{customerData.customer.email?customerData.customer.email:'Not Set'}}
                        </a>
                    </p>
                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides">
                    <p class="col-lg-4 col-md-4 no-padding-sides"><strong>Status:</strong></p>
                    <p class="col-lg-4 col-md-4 no-padding-sides {{customerData.customer.status.name}} capital-first" ng-if="customerTypes">
                        <a id="status-select"
                           record-table="Customers"
                           class="editable editable-click"
                           href=""
                           smart-xeditable=""
                           data-ng-model="getCustomerData"
                           data-options="editableOptions"
                           data-type="select"
                           data-pk="1"
                           data-value="{{customerData.customer.status.id}}"
                           record-field="id_status"
                           record-idContainer="customers"
                           data-placement="right"
                           data-source="{{customerTypes}}"
                           record-id="{{customerData.customer.id}}"
                           data-original-title="Select Customer Status">
                            {{customerData.customer.status.name ? customerData.customer.status.name : 'Pending'}}
                        </a>
                    </p>
                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides">
                    <p class="col-lg-4 col-md-4 no-padding-sides"><strong>Location:</strong></p>
                    <p class="col-lg-8 col-md-8 no-padding-sides">{{bld.name ? bld.name:bld.buildings.name}} ({{bld.code ? bld.code : bld.buildings.code}})</p>
                </div>
                <div ng-repeat="contacto in customerData.customer.contacts">
                    <div class="col-lg-12 col-md-12 no-padding-sides">
                        <p class="col-lg-4 col-md-4 no-padding-sides"><strong>{{contactTypes[contacto.id_types - 1].name}}:</strong></p>
                        <p class="col-lg-4 col-md-4 no-padding-sides">{{contacto.value}}</p>
                    </div>
                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides">
                    <br>
                    <p>
                        <strong>{{bld.type ?bld.type : bld.buildings.type}}</strong>
                        in <strong>{{bld.neighborhood.name ? bld.neighborhood.name : bld.buildings.neighborhood.name}}</strong>
                        with <strong>{{bld.floors ? bld.floors : bld.buildings.floors}}</strong> floors
                        and <strong>{{bld.units ? bld.units : bld.buildings.units}}</strong> units
                    </p>

                    <!--<p class="float-left size-50"><strong>Neighborhood:</strong></p>-->
                    <!--<p>{{bld.neighborhood.name?bld.neighborhood.name:bld.buildings.neighborhood.name}}</p>-->

                    <!--<p class="float-left size-50"><strong>Type:</strong></p>-->
                    <!--<p>{{bld.type?bld.type:bld.buildings.type}}</p>-->

                    <!--<p class="float-left size-50"><strong>Units / Floors:</strong></p>-->
                    <!--<p>{{bld.units?bld.units:bld.buildings.units}} / {{bld.floors?bld.floors:bld.buildings.floors}}</p>-->


                    <!--<p class="float-left size-50"><strong>Addresses:</strong></p>-->
                    <!--<p data-toggle="modal" data-target="#customerAddressesModal" ng-click="clearAddressModal()" class="edit-info-simple-text m-t-md">-->
                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides">
                    <p class=" m-t-md m-b-lg">
                        <i class="fa fa-map-marker "></i> {{customerData.customer.addresses.length}}
                        <label ng-if="customerData.customer.addresses.length == 1"> address found on this account</label>
                        <label ng-if="customerData.customer.addresses.length != 1"> addresses found on this account</label>
                        <!--<label class="sm-view-action-btn" data-toggle="modal" data-target="#customerAddressesModal" ng-click="clearAddressModal()">...</label>-->
                        <button class="btn btn-primary m-l-lg" ng-click="clearAddressModal()" data-toggle="modal" data-target="#customerAddressesModal">View</button>
                    </p>

                </div>
                <div class="col-lg-12 col-md-12 no-padding-sides">
                    <div class="col-lg-5 col-md-5 no-padding-sides">
                        <button id="c-c-i-e" class="float-left btn btn-primary" ng-click="toggleDisabled('c-c-i-e');">
                            <i class="fa fa-pencil"></i> Edit customer
                        </button>
                    </div>
                    <div class="col-lg-6 col-md-5 ">
                        <button class=" btn btn-danger" ng-click="showConfirmPassword();">
                            <i class="fa fa-refresh"></i> Reset password
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--MODAL-->
<div class="modal fade cus-add-mod" id="customerAddressesModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title" id="myModalServiceLabel">{{customerData.customer.first_name + ' ' + customerData.customer.last_name}} Addresses</h4>
            </div>
            <!--modal-body-customer-addresses-table-->
            <div class="modal-body" id="mb-ca-table">
                <div class="wrapper-sm">
                    <div class="row">
                        <div class="field-data col-lg-12">
                            <!--***********************************************-->
                            <table datatable="ng" class="row-border hover">
                                <thead>
                                <tr>
                                    <th>ID</th>
                                    <th class="addr-th">Address</th>
                                    <th>Code</th>
                                    <th>Unit</th>
                                    <th>City</th>
                                    <th>Zip</th>
                                    <th>State</th>
                                    <th>Country</th>
                                    <th>Edit</th>
                                </tr>
                                </thead>
                                <tbody>
                                <tr ng-repeat="addrs in customerData.customer.addresses">
                                    <td>{{addrs.id}}</td>
                                    <td class="addr-th">{{addrs.address}}</td>
                                    <td>{{addrs.code}}</td>
                                    <td>{{addrs.unit}}</td>
                                    <td>{{addrs.city}}</td>
                                    <td>{{addrs.zip}}</td>
                                    <td>{{addrs.state}}</td>
                                    <td>{{addrs.country}}</td>
                                    <td><span class="btn btn-primary" ng-click="editAddressModal(1)">Edit</span></td>
                                </tr>
                                </tbody>
                            </table>
                            <!--***********************************************-->
                        </div>
                    </div>
                </div>
            </div>
            <!--modal-body-customer-addresses-edit-->
            <div class="modal-body no-display" id="mb-ca-edit">
                <div class="wrapper-sm">
                    <div class="row">
                        <div class="field-data col-lg-12">
                            <!--***********************************************-->

                            <form action="">
                                <p class="col-lg-5">
                                    <label class="col-lg-4">Address:</label>
                                    <input class="col-lg-8" type="text" placeholder="New Address" value="{{customerData.customer.addresses[indexOfToShow].address}}">
                                </p>
                                <p class="col-lg-3">
                                    <label class="col-lg-4">Code:</label>
                                    <input class="col-lg-8" type="text" placeholder="New Code" value="{{customerData.customer.addresses[indexOfToShow].code}}">
                                </p>
                                <p class="col-lg-4">
                                    <label class="col-lg-4">Unit:</label>
                                    <input class="col-lg-8" type="text" placeholder="New Code" value="{{customerData.customer.addresses[indexOfToShow].unit}}">
                                </p>
                                <p class="col-lg-5">
                                    <label class="col-lg-4">City:</label>
                                    <input class="col-lg-8" type="text" placeholder="New Code" value="{{customerData.customer.addresses[indexOfToShow].city}}">
                                </p>
                                <p class="col-lg-3">
                                    <label class="col-lg-4">ZIP:</label>
                                    <input class="col-lg-8" type="text" placeholder="New Code" value="{{customerData.customer.addresses[indexOfToShow].zip}}">
                                </p>
                                <p class="col-lg-4">
                                    <label class="col-lg-4">State:</label>
                                    <input class="col-lg-8" type="text" placeholder="New Code" value="{{customerData.customer.addresses[indexOfToShow].state}}">
                                </p>
                                <p class="col-lg-5">
                                    <label class="col-lg-4">Country:</label>
                                    <input class="col-lg-8" type="text" placeholder="New Code" value="{{customerData.customer.addresses[indexOfToShow].country}}">
                                </p>
                                <div class="float-right">
                                    <button class="btn btn-primary">Update</button>
                                </div>
                            </form>
                            <button ng-click="editAddressModal(0)" class="btn btn-default float-right m-r-lg">
                                <i class="fa fa-arrow-left"></i>
                                Back
                            </button>
                            <!--***********************************************-->
                        </div>
                    </div>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancel
                </button>
            </div>

        </div>
    </div>
</div>
<!--END MODAL-->





<!--STATUS MODAL-->
<div class="modal fade cus-add-mod" id="customerStatusModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">

            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                    &times;
                </button>
                <h4 class="modal-title">
                    Account Status: <span class=" {{customerData.customer.status.name == 'active'? 'up-status': 'down-status'}}">{{customerData.customer.status.name == 'active' ? 'Active' : 'Disabled'}}</span>
                </h4>
            </div>


            <div class="modal-body">
                <div class="wrapper-sm">
                    <div class="row">
                        <div class="col-lg-12">
                            <!--***********************************************-->
                            <!--<div class="col-lg-2">-->
                                <!--<p class="set-title-p">Change Status:</p>-->
                            <!--</div>-->
                            <div class="col-lg-9">

                                <!--<div class="capital-first status-identif-{{statusLabe}} size-100px satus-color-borders m-r-lg btn btn-primary {{statusLabe == customerData.customer.status.name ? 'selected' : ''}}"-->
                                     <!--ng-click="activeServiceDisplay()"-->
                                     <!--ng-repeat="statusLabe in statusArrayConstant.status"-->
                                     <!--ng-if="statusLabe == 'active' || statusLabe == 'disabled'">-->
                                    <!--{{statusLabe}}-->
                                <!--</div>-->






                                <div class="btn btn-{{customerData.customer.status.name == 'active' ? 'danger' : 'success'}}" ng-click="activeServiceDisplay()" ng-if="!disableStatusActive">
                                        {{customerData.customer.status.name == 'active' ? 'Disable Account' : 'Activate Account'}}
                                </div>
                                <div class="btn btn-{{customerData.customer.status.name == 'active' ? 'danger' : 'success'}}" ng-click="activeServiceDisplay()" ng-if="disableStatusActive" disabled="">
                                        {{customerData.customer.status.name == 'active' ? 'Disable Account' : 'Activate Account'}}
                                </div>



                                <!--<div ng-if="disableStatusActive" class="btn btn-success" ng-click="activeServiceDisplay('active')">Activate Account</div>-->







                            </div>


                            <div class="col-lg-12 m-t-lg"></div>

                            <form id="customer-status-form-update">


                            <div class="col-lg-8 b-r-ddd">
                                <div class="col-lg-12">
                                    <div class="down-status m-b-lg p-title-status p-l-lg">
                                        <span class="{{disableStatusActive?'':'bg-status-disabled'}} anim">The next Services will be disabled if you continue this action</span>
                                        <div class="check-status-action smart-form" ng-if="disableStatusActive">
                                            <label class="checkbox">
                                                <input type="checkbox" name="status-service-check" checked="checked">
                                                <i></i>
                                            </label>
                                        </div>
                                        <!--TRUE/FALSE-->
                                        <div class="check-status-action smart-form desactivado" ng-if="!disableStatusActive">
                                            <label class="checkbox">
                                                <input type="checkbox" name="status-service-check" checked="checked" disabled>
                                                <i></i>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12"
                                             ng-repeat="service in customerData.customerServices.services"
                                             ng-controller="serviceProductController">
                                            <div class="record-description" ng-if="customerProduct.product.frequency == 'monthly' || customerProduct.product.frequency == 'annual' || customerProduct.product.frequency == 'included'">
                                                <div class="row">
                                                    <label class=""><b>Product : </b>{{ customerProduct.product.name }} </label>
                                                    <label class="text-capitalize"><b>Expires :</b> {{ service.expires | date : "shortDate" }}</label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="row"><div class="col-lg-12"><hr></div></div>

                                <div class="col-lg-12">
                                    <div class="down-status m-b-lg p-l-lg">
                                        <span class="{{disableStatusActive?'':'bg-status-disabled'}} anim">The next Invoices will be removed if you continue this action</span>
                                        <div class="check-status-action smart-form" ng-if="disableStatusActive">
                                            <label class="checkbox">
                                                <input type="checkbox" name="status-invoice-check" checked="checked">
                                                <i></i>
                                            </label>
                                        </div>
                                        <!--TRUE/FALSE-->
                                        <div class="check-status-action smart-form desactivado" ng-if="!disableStatusActive">
                                            <label class="checkbox">
                                                <input type="checkbox" name="status-invoice-check" checked="checked" disabled>
                                                <i></i>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12" ng-repeat="invoiceItem in customerData.invoices">
                                            <label class="m-r-sm"><b>Status : </b>{{ statusArrayConstant.status[invoiceItem.status] }}</label>
                                            <label class="m-r-sm"><b>Amount : </b>{{invoiceItem.amount | currency : '$' : 2}}</label>
                                            <label class="m-r-sm" ng-if="invoiceItem.processing_type == 13"><b>Processing Type : </b>Autopay</label>
                                            <label class="m-r-sm" ng-if="invoiceItem.processing_type == 14"><b>Processing Type : </b>Manual Pay</label>
                                            <label ng-init="resultDate = convertDate(invoiceItem.due_date)"><b>Due Date : </b>{{resultDate | date : "shortDate" }}</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="col-lg-12 m-b-lg ">
                                    <div class=" down-status m-b-lg p-l-lg">
                                        <span class="{{disableStatusActive?'':'bg-status-disabled'}} anim">Send port to SignUp</span>
                                        <div class="check-status-action smart-form" ng-if="disableStatusActive">
                                            <label class="checkbox">
                                                <input type="checkbox" name="status-network-check" checked="checked">
                                                <i></i>
                                            </label>
                                        </div>
                                        <!--TRUE/FALSE-->
                                        <div class="check-status-action smart-form desactivado" ng-if="!disableStatusActive">
                                            <label class="checkbox">
                                                <input type="checkbox" name="status-network-check" checked="checked" disabled>
                                                <i></i>
                                            </label>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <p><b>Port : </b>{{ customerData.customerNetwork.port_number }}</p>
                                            <p><b>IP Address : </b>{{ customerData.customerNetwork.network_node.ip_address }}</p>
                                            <p><b>MAC Address : </b>{{ customerData.customerNetwork.network_node.mac_address }}</p>
                                            <p><b>Model : </b>{{ customerData.customerNetwork.network_node.model}}</p>
                                            <!--<p><b>Properties : </b>{{ customerData.customerNetwork.network_node.properties}}</p>-->
                                            <p><b>Vendor : </b>{{ customerData.customerNetwork.network_node.vendor}}</p>
                                        </div>
                                    </div>
                                </div>
                                <!--<div class="col-lg-12  smart-form">-->
                                    <!--<div class=" down-status  m-b-lg p-l-lg">-->
                                        <!--<span class="{{disableStatusActive?'':'bg-status-disabled'}} anim">Send to SignUp</span>-->
                                        <!--<div class="check-status-action smart-form" ng-if="disableStatusActive">-->
                                            <!--<label class="checkbox">-->
                                                <!--<input type="checkbox" name="status-signup-check" checked="checked">-->
                                                <!--<i></i>-->
                                            <!--</label>-->
                                        <!--</div>-->
                                        <!--&lt;!&ndash;TRUE/FALSE&ndash;&gt;-->
                                        <!--<div class="check-status-action smart-form desactivado" ng-if="!disableStatusActive">-->
                                            <!--<label class="checkbox">-->
                                                <!--<input type="checkbox" name="status-signup-check" checked="checked" disabled>-->
                                                <!--<i class="bg-status-disabled"></i>-->
                                            <!--</label>-->
                                        <!--</div>-->
                                    <!--</div>-->
                                <!--</div>-->
                            </div>
                            </form>
                            <!--***********************************************-->
                        </div>
                    </div>
                </div>
            </div>


            <div class="modal-footer">
                <button type="button" class="btn btn-success"  ng-if="disableStatusActive" ng-click="updateCustomerStatus()">
                <!--<button type="button" class="btn btn-success" data-dismiss="modal" ng-if="disableStatusActive" ng-click="updateCustomerStatus()">-->
                    Apply
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancel
                </button>
            </div>

        </div>
    </div>
</div>
<!--END STATUS MODAL-->


