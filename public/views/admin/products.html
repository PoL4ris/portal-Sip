<div class="col-lg-12">
    <button class="btn btn-primary" ng-click="addNewProd()" ng-if="!newProd"><i class="fa fa-plus"></i> Add New Product</button>
    <button class="btn btn-danger" ng-click="prodCancel()" ng-if="newProd"><i class="fa fa-times"></i> Cancel</button>
</div>

<div class="col-lg-7 white-shadow m-t-lg bg-white padding-10">
    <div class="admin-workspace animated fadeInLeft">
        <div class="m-t-lg">
            <table id="users-table" class="tablesorter table table-striped" datatable="ng" dt-options="dtOptionsProd" ng-if="adminUsers">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Product Name</th>
                    <th>Type</th>
                    <th>Amount</th>
                    <th>Frequency</th>
                    <th>Created At</th>
                    <th>Edit</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="product in productsList">
                    <td>{{product.id}}</td>
                    <td>{{product.name}}</td>
                    <td>{{product.type.name}}</td>
                    <td>{{product.amount}}</td>
                    <td>{{product.frequency}}</td>
                    <td ng-init="cAtData = convertDate(product.created_at)">
                        {{cAtData | date : "MMM d, y" }}
                    </td>
                    <td><i class="btn btn-success fa fa-pencil" ng-click="editProd()"></i></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>


<!--FORM-->
<div class="col-lg-5" ng-if="newProd || editProdData">
    <div class="row">
        <form class="animated fadeInRight" id="admin-bldprop-form">
            <!--APP DATA-->
            <div class="col-lg-12">
                <label>Name</label>
                <br>

                <input type="text"
                       placeholder="Product Name"
                       name="name"
                       class="size-100 p-l-md"
                       value="{{editProdData ? editProdData.name : null}}"
                       required>
                <hr>
                <div class="col-lg-6 no-padding-sides">
                    <label>Type</label>
                    <br>
                    <select name="id_types">
                        <option value="" ng-if="!editProdData">Select Type</option>
                        <option ng-if="editProdData" value="{{editProdData.id_types}}">{{typesList[editProdData.id_types].name}}</option>
                        <option value="{{item.id}}" ng-repeat="item in typesList">{{item.name}}</option>
                    </select>
                </div>

                <div class="col-lg-6 no-padding-sides">
                    <label>Frequency</label>
                    <br>
                    <select name="id_types">
                        <option value="" ng-if="!editProdData">Select Frequency</option>
                        <option ng-if="editProdData" value="{{editProdData.frequency}}">{{editProdData.frequency}}</option>
                        <option ng-if="editProdData" value="annual"> Annual </option>
                        <option ng-if="editProdData" value="complimentary"> Complimentary</option>
                        <option ng-if="editProdData" value="included"> Included</option>
                        <option ng-if="editProdData" value="monthly"> Monthly</option>
                        <option ng-if="editProdData" value="onetime"> One-time</option>
                    </select>
                </div>
                <br>

                <hr>

                <label>Amount</label>
                <br>
                <input type="text"
                       placeholder="Set amount with no comas or signs"
                       name="amount"
                       required
                       class="size-100 p-l-md"
                       value="{{editProdData ? editProdData.amount : null}}">

                <hr>

                <div class="col-lg-12" ng-if="productUsedBy">
                    <p>This product is used by : <b>{{productUsedBy.length}}</b>, Buildings.</p>
                    <ul>

                        <li ng-repeat="building in productUsedBy">{{building.building.code}} , {{building.building.name}}</li>
                    </ul>


                </div>



            </div>
            <!--ACTION BUTTONS-->
            <div class="col-lg-12 m-t-lg">
                <button class="btn btn-success pull-right" ng-if="!editProdData" ng-click="submitNewBldProp()">Submit Product</button>
                <button class="btn btn-success pull-right" ng-if="editProdData" ng-click="updateAdminApp()">Update Product</button>
            </div>
        </form>
    </div>
    <button class="btn btn-danger" ng-click="prodCancel()" ng-if="editProdData"><i class="fa fa-times"></i> Cancel</button>
</div>
<!--END FORM-->